{
  "hash": "749c75ee5736cd82d5fa2c7c36335e0c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"October 2nd, 2025\"\nformat: html\n---\n\n[**Assignment 2 (In Progress)**]{.underline}\n\nThe following visualizations are done using data from the happy planet index [Explore the data - Happy Planet Index](https://happyplanetindex.org/countries/).\n\n**Basic Plot of Life Expectancy vs Carbon Footprint**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### Basic Scatter Plot for Life Expectancy vs Carbon Footprint\n# Installing hpi & Load library\n\n\nlibrary(readxl)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readxl' was built under R version 4.5.2\n```\n\n\n:::\n\n```{.r .cell-code}\nHPI_dataset <- read_excel(\"C:/Users/marti/OneDrive/Desktop/test/HPI_dataset.xlsx\", \n    sheet = \"1. All countries\", \n    range = \"A9:L158\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNew names:\nâ€¢ `` -> `...4`\n```\n\n\n:::\n\n```{.r .cell-code}\nhpi <- HPI_dataset\nView(hpi)\n\nnames(hpi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"HPI rank\"                          \"Country\"                          \n [3] \"ISO\"                               \"...4\"                             \n [5] \"Continent\"                         \"Population (thousands)\"           \n [7] \"Life Expectancy (years)\"           \"Ladder of life (Wellbeing) (0-10)\"\n [9] \"Carbon Footprint (tCO2e)\"          \"HPI\"                              \n[11] \"CO2 threshold for year  (tCO2e)\"   \"GDP per capita ($)\"               \n```\n\n\n:::\n\n```{.r .cell-code}\n## Start plotting from basics \n# Quick look at the variable names\n# names(hpi)\n\n# Clean up column names for easier reference (optional)\ncolnames(hpi) <- make.names(colnames(hpi))\n\n# Extract the columns you need\nx <- hpi$`Life.Expectancy..years.`   # adjust name if slightly different\ny <- hpi$`Carbon.Footprint..tCO2e.`\n\n# Basic sanity check\n# head(cbind(x, y))\n\n# Create scatterplot\nplot(x, y,\n     main = \"Life Expectancy vs Carbon Footprint\",\n     xlab = \"Life Expectancy (years)\",\n     ylab = \"Carbon Footprint (tCOâ‚‚e)\",\n     pch = 19, col = \"skyblue\", cex = 1.3)\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Exercise: Can you generate these charts individually?  Try these functions \n# using another dataset. Be sure to work on the layout and margins\n```\n:::\n\n\n**Scatterplot**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatterplot\n# Note the incremental additions\n# Installing hpi & Load library\nlibrary(readxl)\nHPI_dataset <- read_excel(\"C:/Users/marti/OneDrive/Desktop/test/HPI_dataset.xlsx\", \n    sheet = \"1. All countries\", \n    range = \"A9:L158\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNew names:\nâ€¢ `` -> `...4`\n```\n\n\n:::\n\n```{.r .cell-code}\nhpi <- HPI_dataset\nView(hpi)\nnames(hpi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"HPI rank\"                          \"Country\"                          \n [3] \"ISO\"                               \"...4\"                             \n [5] \"Continent\"                         \"Population (thousands)\"           \n [7] \"Life Expectancy (years)\"           \"Ladder of life (Wellbeing) (0-10)\"\n [9] \"Carbon Footprint (tCO2e)\"          \"HPI\"                              \n[11] \"CO2 threshold for year  (tCO2e)\"   \"GDP per capita ($)\"               \n```\n\n\n:::\n\n```{.r .cell-code}\ncolnames(hpi) <- make.names(colnames(hpi))\n\nx <- hpi$`HPI.rank`   # chose to compare HPI rank to a few other factors\ny1 <- hpi$`Carbon.Footprint..tCO2e.` # testing for correlation.\ny2 <- hpi$`Life.Expectancy..years.` # testing for correlation.\n\n# Setting label orientation, margins c(bottom, left, top, right) & text size\npar(las=1, mar=c(4, 4, 2, 4), cex=.7, bg = \"grey18\") \nplot.new()\n\nplot.window(range(x, na.rm=TRUE), range(c(y1, y2), na.rm=TRUE))\n# What is the first number standing for? The Bottom Axis.\n# X-axis based on HPI rank\naxis(1, at=seq(min(x, na.rm=TRUE), max(x, na.rm=TRUE), by=20), col.axis = \"chartreuse2\")\n\n# Y-axes based on the combined range of y1 and y2\naxis(2, at=seq(0, 90, by=10), col.axis = \"chartreuse2\")\naxis(4, at=seq(0, 90, by=10), col.axis = \"chartreuse2\")\n\nlines(x, y1, col=\"cyan1\", lwd=2)\nlines(x, y2, col=\"violetred2\", lwd=2)\npoints(x, y1, pch=18, cex=2, col=\"cyan1\") # Try different cex value? I did not like any othercex value, so I just changed the pch instead.  \npoints(x, y2, pch=20, bg=\"chartreuse2\", cex=2, col=\"violetred2\")  # Changed background color to grey18.\npar(col=\"chartreuse2\", fg= \"chartreuse2\", col.axis=\"chartreuse2\")\n\nbox(bty=\"u\")\nmtext(\"HPI Rank\", side=1, line=2, cex=0.8)\nmtext(\"Carbon Footprint (tCO2e)\", side=2, line=2, las=0, cex=0.8)\nmtext(\"Life Expectancy (years)\", side=4, line=2, las=0, cex=0.8)\ntext(4, 5, \"Bird 131\")\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(5.1, 4.1, 4.1, 2.1), col=\"chartreuse2\" , fg= \"chartreuse2\", col.axis=\"chartreuse2\")\n\n#I was not really happy with how this turned out, I may redo this again with different variables.\n```\n:::\n\n\n**Histogram**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histogram of Population\nlibrary(readxl)\nHPI_dataset <- read_excel(\"C:/Users/marti/OneDrive/Desktop/test/HPI_dataset.xlsx\", \n    sheet = \"1. All countries\", range = \"A9:L158\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNew names:\nâ€¢ `` -> `...4`\n```\n\n\n:::\n\n```{.r .cell-code}\nhpi <- HPI_dataset\n\nY <- hpi$`Population (thousands)`\nY <- na.omit(Y)\n\n# Use log10 scale because populations vary drastically\nY_log <- log10(Y)\n\n# Plot\npar(bg=\"grey18\", \n    mar=c(4.5, 4.5, 3.1, 1),\n    col.axis=\"chartreuse2\", \n    col.lab=\"chartreuse2\", \n    col.main=\"chartreuse2\")\n\nhist(Y_log,\n     breaks=15,\n     col=\"deepskyblue3\",\n     border=\"white\",\n     freq=FALSE,\n     main=\"Distribution of Country Populations\",\n     xlab=\"Population in thousands\",\n     ylab=\"Density\")\n\nlines(density(Y_log), col=\"chartreuse2\", lwd=2)\nrug(Y_log, col=\"white\")\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# I am not yet satisfied with this, may go back and redo.\n```\n:::\n\n\n**Barplot**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Barplot\npar(mar=c(2, 3.1, 2, 2.1)) \nmidpts <- barplot(VADeaths, \n                  col=gray(0.1 + seq(1, 9, 2)/11), \n                  names=rep(\"\", 4))\nmtext(sub(\" \", \"\\n\", colnames(VADeaths)),\n      at=midpts, side=1, line=0.5, cex=0.5)\ntext(rep(midpts, each=5), apply(VADeaths, 2, cumsum) - VADeaths/2,\n     VADeaths, \n     col=rep(c(\"white\", \"black\"), times=3:2), \n     cex=0.8)\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(5.1, 4.1, 4.1, 2.1))  \n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\n\nHPI_dataset <- read_excel(\"C:/Users/marti/OneDrive/Desktop/test/HPI_dataset.xlsx\", \n    sheet = \"1. All countries\", \n    range = \"A9:L158\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNew names:\nâ€¢ `` -> `...4`\n```\n\n\n:::\n\n```{.r .cell-code}\nhpi <- HPI_dataset\n\n# Make column names R-safe\nnames(hpi) <- make.names(names(hpi))\n\n# Check column names (see the exact GDP column)\nprint(names(hpi))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"HPI.rank\"                          \"Country\"                          \n [3] \"ISO\"                               \"...4\"                             \n [5] \"Continent\"                         \"Population..thousands.\"           \n [7] \"Life.Expectancy..years.\"           \"Ladder.of.life..Wellbeing...0.10.\"\n [9] \"Carbon.Footprint..tCO2e.\"          \"HPI\"                              \n[11] \"CO2.threshold.for.year...tCO2e.\"   \"GDP.per.capita....\"               \n```\n\n\n:::\n\n```{.r .cell-code}\n# Aggregate mean GDP per capita by continent\ngdp_by_continent <- aggregate(`GDP.per.capita....` ~ Continent,\n                              data = hpi,\n                              FUN = mean,\n                              na.rm = TRUE)\n\n# Rename columns for convenience\nnames(gdp_by_continent) <- c(\"Continent\", \"GDP.per.capita\")\n\n# ðŸ—ºï¸ Map numeric continent codes to names\ncontinent_names <- c(\n  \"1\" = \"Latin America\",\n  \"2\" = \"N. America & Oceania\",\n  \"3\" = \"Western Europe\",\n  \"4\" = \"Middle East\",\n  \"5\" = \"Africa\",\n  \"6\" = \"South Asia\",\n  \"7\" = \"Eastern Europe & Central Asia\",\n  \"8\" = \"East Asia\"\n)\n\n# Replace codes with readable names\ngdp_by_continent$Continent <- continent_names[as.character(gdp_by_continent$Continent)]\n\n# Sort continents by GDP (descending)\ngdp_by_continent <- gdp_by_continent[order(gdp_by_continent$GDP.per.capita, decreasing = TRUE), ]\n\n# ---- Barplot ----\npar(mar=c(5, 4, 3, 2))\nmidpts <- barplot(gdp_by_continent$GDP.per.capita,\n                  names.arg = rep(\"\", nrow(gdp_by_continent)),\n                  col = gray(seq(0.3, 0.8, length.out = nrow(gdp_by_continent))),\n                  main = \"Average GDP per Capita by Continent\",\n                  ylab = \"Avg GDP per Capita (USD)\",\n                  ylim = c(0, max(gdp_by_continent$GDP.per.capita) * 1.1))\n\n# Add continent names under bars\nmtext(gdp_by_continent$Continent, at = midpts, side = 1, line = 0.5, cex = 0.8)\n\n# Add GDP values inside bars\ntext(midpts, gdp_by_continent$GDP.per.capita / 2,\n     labels = round(gdp_by_continent$GDP.per.capita, 0),\n     col = \"white\", cex = 0.8)\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n**Boxplot**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Boxplot\npar(mar=c(3, 4.1, 2, 0))\nboxplot(len ~ dose, data = ToothGrowth,\n        boxwex = 0.25, at = 1:3 - 0.2,\n        subset= supp == \"VC\", col=\"white\",\n        xlab=\"\",\n        ylab=\"tooth length\", ylim=c(0,35))\nmtext(\"Vitamin C dose (mg)\", side=1, line=2.5, cex=0.8)\nboxplot(len ~ dose, data = ToothGrowth, add = TRUE,\n        boxwex = 0.25, at = 1:3 + 0.2,\n        \n        subset= supp == \"OJ\")\nlegend(1.5, 9, c(\"Ascorbic acid\", \"Orange juice\"), \n       fill = c(\"white\", \"gray\"), \n       bty=\"n\")\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(5.1, 4.1, 4.1, 2.1))\n```\n:::\n\n\n**Persp**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Persp\nx <- seq(-10, 10, length= 30)\ny <- x\nf <- function(x,y) { r <- sqrt(x^2+y^2); 10 * sin(r)/r }\nz <- outer(x, y, f)\nz[is.na(z)] <- 1\n# 0.5 to include z axis label\npar(mar=c(0, 0.5, 0, 0), lwd=0.5)\npersp(x, y, z, theta = 30, phi = 30, \n      expand = 0.5)\n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar=c(5.1, 4.1, 4.1, 2.1), lwd=1)\n```\n:::\n\n\n**Piechart**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Piechart\npar(mar=c(0, 2, 1, 2), xpd=FALSE, cex=0.5)\npie.sales <- c(0.12, 0.3, 0.26, 0.16, 0.04, 0.12)\nnames(pie.sales) <- c(\"Blueberry\", \"Cherry\",\n                      \"Apple\", \"Boston Cream\", \"Other\", \"Vanilla\")\npie(pie.sales, col = gray(seq(0.3,1.0,length=6))) \n```\n\n::: {.cell-output-display}\n![](October2_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n",
    "supporting": [
      "October2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}