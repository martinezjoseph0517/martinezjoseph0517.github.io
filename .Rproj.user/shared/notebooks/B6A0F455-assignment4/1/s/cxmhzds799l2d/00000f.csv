"0","#| echo: true"
"0","#| message: false"
"0",""
"0",""
"0","# To create this chart I took inspiration from analyst ___. I used their use of viridis as basis for this code."
"0","# I took the basis, used patchwork to post both charts side by side & used ChatGPT & forum.posit.co for guidance"
"0","# to solve specific syntax errors."
"0",""
"0","library(WDI)"
"0","library(tidyverse)"
"0","library(viridis)"
"0","library(janitor)"
"0","library(countrycode)"
"0","library(ggplot2)"
"0","library(scales)"
"0","library(patchwork)"
"0",""
"0","#DATA"
"0","# 2020 snapshot: migrants (count + %s) for all countries"
"0","migration_raw <- WDI("
"0","  country  = ""all"","
"0","  indicator = c("
"0","    migrants_total = ""SM.POP.TOTL"","
"0","    migrants_pct   = ""SM.POP.TOTL.ZS"""
"0","  ),"
"0","  start = 2020, end = 2020, extra = TRUE"
"0",")"
"0",""
"0","migration <- migration_raw %>%"
"0","  clean_names() %>%"
"0","  filter(region != ""Aggregates"") %>% # remove World/income groups"
"0","  mutate(continent = countrycode(iso3c, ""iso3c"", ""continent""))"
"0",""
"0",""
"0","# Summarize by continent (2020)"
"0",""
"0","  continent_summary <- migration %>%"
"0","  group_by(continent) %>%"
"0","  summarize("
"0","    avg_migrant_pct = mean(migrants_pct, na.rm = TRUE),"
"0","    total_migrants = sum(migrants_total, na.rm = TRUE)"
"0","  ) %>%"
"0","  arrange(desc(total_migrants))"
"0","  "
"0","  continent_summary"
